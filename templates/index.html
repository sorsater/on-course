{% extends "base.html" %}
{% block body %}
    <div class="container">
      <table>
        <colgroup>
  <col style="width:80%">
  <col style="width:20%">
</colgroup>
      <tr>
      <td id="left">

        <div id="bio">
          <h2>Datateknik ðŸ–¥</h2>
            <table>
              <tr>
                  <td><input type="checkbox" name="ai" checked>AI</td>
                  <td><input type="checkbox" name="ss" checked>Datorsystem</td>
                  <td><input type="checkbox" name="sp" checked>Elektro</td>
                  <td><input type="checkbox" name="med" checked>Medicin</td>
                  <td><input type="checkbox" name="ai" checked>Programmering Algo</td>
                  <td><input type="checkbox" name="ss" checked>Storskalig Mjukvar</td>
                </tr>
                <tr>
                  <td><input type="checkbox" name="ai" checked>Signal & Bild</td>
                  <td><input type="checkbox" name="ss" checked>Spel</td>
                  <td><input type="checkbox" name="ai" checked>System On Chip</td>
                  <td><input type="checkbox" name="ss" checked>Systemtek</td>
                  <td><input type="checkbox" name="ai" checked>SÃ¤kra system</td>
                  <td><input type="checkbox" name="ss" checked>Kina</td>
              </tr>

            </table>
        </div>

          <div id="courses">
        </div>

    </td>

    <td id="right">

        <div id="calendar">
          hejdÃ¥
        </div>

    </td>
  </tr>
</table>
    </div>






<!-- scripts -->

<script type="text/jsx">
/** @jsx React.DOM */


// var DynamicSearch = React.createClass({
class DynamicSearch extends React.Component{
  constructor(props){
    super(props);
    this.handleChange = this.handleChange.bind(this);
    this.state = {searchString: ''};
  }

  // sets state, triggers render method
  handleChange(event){
    // grab value form input box
    this.setState({searchString:event.target.value});
    console.log("scope updated!");
  }

  render() {

    var courses = this.props.items;
    var searchString = this.state.searchString.trim().toLowerCase();

    // filter courses list by value from input box
    if(searchString.length > 0){
      courses = courses.filter(function(course){
        return (course.code+course.name).toLowerCase().match( searchString );
      });
    }

    return (
      <div>
        <input id="search" type="text" value={this.state.searchString} onChange={this.handleChange} placeholder="Vad fÃ¥r det lov att vara? ðŸ˜‹" />
        <table><tbody>

          { courses.map(function(course){ return (
              <tr key={course.code}>
                <td><a href="#">{course.code}</a></td>
                <td>{course.hp}</td>
                <td>{course.level}</td>
                <td>{course.name}</td>
              </tr>)
            })
          }

        </tbody></table>
      </div>
    )
  }

};

// list of courses, defined with JavaScript object literals
var courses = [
  {% for kurs in kurser %}
    {
      "code": "{{ kurs.code }}",
      "hp": "{{ kurs.hp }}",
      "level": "{{ kurs.level }}",
      "name": "{{ kurs.name }}"
    },

  {% endfor %}
];

ReactDOM.render(
  <DynamicSearch items={ courses } />,
  document.getElementById('courses')
);
</script>


{% endblock %}
